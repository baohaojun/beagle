------------------------------------------------------------------------
r3187 | joeshaw | 2006-12-30 12:53:54 -0500 (Sat, 30 Dec 2006) | 1 line

Rename EvolutionMailDriver to EvolutionMailQueryable in the Makefiles and code
------------------------------------------------------------------------
r3186 | joeshaw | 2006-12-30 12:49:14 -0500 (Sat, 30 Dec 2006) | 1 line

Rename EvolutionMailDriver to EvolutionMailQueryable, a badly needed change
------------------------------------------------------------------------
r3184 | joeshaw | 2006-12-30 12:44:34 -0500 (Sat, 30 Dec 2006) | 1 line

Update README
------------------------------------------------------------------------
r3183 | zygis | 2006-12-30 12:24:15 -0500 (Sat, 30 Dec 2006) | 4 lines

2006-12-30  Žygimantas Beručka  <zygis@gnome.org>

        * lt.po: Updated Lithuanian translation.

------------------------------------------------------------------------
r3182 | joeshaw | 2006-12-30 11:49:35 -0500 (Sat, 30 Dec 2006) | 1 line

Move more webservices code into the attic
------------------------------------------------------------------------
r3181 | joeshaw | 2006-12-30 11:48:31 -0500 (Sat, 30 Dec 2006) | 1 line

Move unused WebServices directory into the attic
------------------------------------------------------------------------
r3180 | joeshaw | 2006-12-30 11:40:38 -0500 (Sat, 30 Dec 2006) | 1 line

stfu svn
------------------------------------------------------------------------
r3179 | joeshaw | 2006-12-30 11:22:45 -0500 (Sat, 30 Dec 2006) | 1 line

Remove empty indexer directory
------------------------------------------------------------------------
r3178 | joeshaw | 2006-12-30 11:18:49 -0500 (Sat, 30 Dec 2006) | 1 line

Move unused templates directory into the attic
------------------------------------------------------------------------
r3177 | joeshaw | 2006-12-30 11:18:02 -0500 (Sat, 30 Dec 2006) | 1 line

Move unused searchomatic directory into the attic
------------------------------------------------------------------------
r3176 | joeshaw | 2006-12-30 11:15:52 -0500 (Sat, 30 Dec 2006) | 1 line

Move unused chooser-fu directory into the attic
------------------------------------------------------------------------
r3175 | joeshaw | 2006-12-30 11:15:09 -0500 (Sat, 30 Dec 2006) | 1 line

Move unused Tiles directory into the attic
------------------------------------------------------------------------
r3174 | joeshaw | 2006-12-30 11:14:15 -0500 (Sat, 30 Dec 2006) | 1 line

Move unused Renderers directory into the attic (boy, i wish i could do all of these in one shot...
------------------------------------------------------------------------
r3173 | joeshaw | 2006-12-30 11:11:25 -0500 (Sat, 30 Dec 2006) | 3 lines

Move the unused Best directory into the attic


------------------------------------------------------------------------
r3172 | joeshaw | 2006-12-30 11:08:20 -0500 (Sat, 30 Dec 2006) | 1 line

Remove .cvsignore files
------------------------------------------------------------------------
r3170 | joeshaw | 2006-12-30 11:03:51 -0500 (Sat, 30 Dec 2006) | 4 lines

Move the code back in as trunk/beagle, since we'll be moving dead code
into trunk/attic


------------------------------------------------------------------------
r3168 | joeshaw | 2006-12-30 11:02:09 -0500 (Sat, 30 Dec 2006) | 2 lines

Temporarily move the trunk

------------------------------------------------------------------------
r3167 | dnylande | 2006-12-28 01:51:25 -0500 (Thu, 28 Dec 2006) | 4 lines

2006-12-28  Daniel Nylander <po@danielnylander.se>

	* sv.po: Updated Swedish translation.

------------------------------------------------------------------------
r3166 | adamw | 2006-12-27 15:10:58 -0500 (Wed, 27 Dec 2006) | 5 lines


2006-12-27  Adam Weinberger  <adamw@gnome.org>

	* en_CA.po: Updated Canadian English translation.

------------------------------------------------------------------------
r3165 | kmaraas | 2006-12-27 07:54:24 -0500 (Wed, 27 Dec 2006) | 5 lines

2006-12-27  Kjartan Maraas  <kmaraas@gnome.org>

	* POTFILES.in: Add missing files.
	* nb.po: Updated Norwegian bokmÃ¥l translation.

------------------------------------------------------------------------
r3164 | danilo | 2006-12-26 11:02:35 -0500 (Tue, 26 Dec 2006) | 2 lines

Updated Serbian translation.

------------------------------------------------------------------------
r3162 | jmas | 2006-12-21 18:04:14 -0500 (Thu, 21 Dec 2006) | 4 lines

2006-12-21  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.

------------------------------------------------------------------------
r3157 | joeshaw | 2006-12-20 14:48:31 -0500 (Wed, 20 Dec 2006) | 5 lines

Fix a problem of incompatible evolution-sharp libraries at runtime, by calling
into the glue library and checking for DllNotFoundExceptions.  Also remove
some dead, warning-generating code in other parts of the evo backends.
Mostly a fix for bgo #386746

------------------------------------------------------------------------
r3156 | joeshaw | 2006-12-20 11:19:31 -0500 (Wed, 20 Dec 2006) | 2 lines

Add a best practice about String.IsNullOrEmpty(), since we're on .NET 2.0 now

------------------------------------------------------------------------
r3155 | joeshaw | 2006-12-19 18:20:30 -0500 (Tue, 19 Dec 2006) | 2 lines

Bump required mono version to 1.1.18

------------------------------------------------------------------------
r3154 | joeshaw | 2006-12-19 18:18:56 -0500 (Tue, 19 Dec 2006) | 2 lines

Remove some debug logging

------------------------------------------------------------------------
r3153 | joeshaw | 2006-12-19 18:15:43 -0500 (Tue, 19 Dec 2006) | 7 lines

Beagle now depends on gmcs and uses the .NET 2.0 profile, hooray!

Fix up the DateTime code so that we can avoid the nasty hacks Bera had to
deal with.  Make explicit the reference to Beagle.Util.Stopwatch to avoid
ambiguity with the .NET 2.0 class of same name.  Remove a little unused
code.

------------------------------------------------------------------------
r3152 | joeshaw | 2006-12-19 16:48:17 -0500 (Tue, 19 Dec 2006) | 3 lines

Oops, fix DateTime issue in camel.cs that I temporarily changed and
accidentally committed

------------------------------------------------------------------------
r3151 | joeshaw | 2006-12-19 16:09:33 -0500 (Tue, 19 Dec 2006) | 2 lines

A little cleanup of the IM buddy code

------------------------------------------------------------------------
r3150 | kelemeng | 2006-12-16 13:02:54 -0500 (Sat, 16 Dec 2006) | 4 lines

2006-12-16  Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated.

------------------------------------------------------------------------
r3144 | dbera | 2006-12-15 23:04:39 -0500 (Fri, 15 Dec 2006) | 2 lines

Do not add duplicate tags. At least makes sense in beagle.

------------------------------------------------------------------------
r3143 | dbera | 2006-12-15 20:56:41 -0500 (Fri, 15 Dec 2006) | 2 lines

Catch exception while detecting encoding.

------------------------------------------------------------------------
r3142 | dbera | 2006-12-15 20:24:05 -0500 (Fri, 15 Dec 2006) | 2 lines

Cleanup.

------------------------------------------------------------------------
r3141 | dbera | 2006-12-15 20:07:53 -0500 (Fri, 15 Dec 2006) | 2 lines

Catch exception at source in entagged#. Its not maintained so patch it directly.

------------------------------------------------------------------------
r3140 | dbera | 2006-12-15 19:44:07 -0500 (Fri, 15 Dec 2006) | 2 lines

Code cleanup. Use more string.empty and remove unnecessary checks.

------------------------------------------------------------------------
r3139 | joeshaw | 2006-12-15 17:38:00 -0500 (Fri, 15 Dec 2006) | 10 lines

Rather than serializing a Hashtable to disk to track changes in Evolution
mail summaries, which is incredibly memory inefficient for large numbers
of folders or messages, use a simple sqlite database instead.  This fixes
one of the biggest and longest standing memory hotspots in beagle.

Also add some code to our SqliteClient fork to rethrow exceptions from
sqlite_step() with the error message from sqlite_finalize().  This helped
me track down a problem in which I wasn't releasing a client and was
getting "database locked" errors.

------------------------------------------------------------------------
r3138 | joeshaw | 2006-12-15 13:15:43 -0500 (Fri, 15 Dec 2006) | 2 lines

Remove the number of subtracted hits from the total number of hits

------------------------------------------------------------------------
r3137 | joeshaw | 2006-12-15 12:46:25 -0500 (Fri, 15 Dec 2006) | 2 lines

Catch FormatException for the year property and ignore it.  bgo #386070

------------------------------------------------------------------------
r3129 | joeshaw | 2006-12-14 18:39:26 -0500 (Thu, 14 Dec 2006) | 4 lines

If we get an EOF trying to read a uint or a time value, throw an exception.
Also fix a warning while we're in here, and print out additional info when
we build standalone

------------------------------------------------------------------------
r3128 | jovanna | 2006-12-14 17:54:02 -0500 (Thu, 14 Dec 2006) | 2 lines

2006-12-14 Jovan Naumovski <jovanna@cvs.gnome.org> *mk.po: Updated Macedonian translation

------------------------------------------------------------------------
r3127 | joeshaw | 2006-12-14 17:17:30 -0500 (Thu, 14 Dec 2006) | 2 lines

Make labels in the details pane selectable

------------------------------------------------------------------------
r3126 | joeshaw | 2006-12-14 16:58:23 -0500 (Thu, 14 Dec 2006) | 3 lines

If the command-line lockdown key is set, don't display applications in the
TerminalEmulator group

------------------------------------------------------------------------
r3125 | joeshaw | 2006-12-14 16:02:40 -0500 (Thu, 14 Dec 2006) | 2 lines

Don't call GTK_DOC_CHECK conditionally, it breaks the --disable-libbeagle case

------------------------------------------------------------------------
r3123 | joeshaw | 2006-12-14 13:36:19 -0500 (Thu, 14 Dec 2006) | 2 lines

Update for 0.2.14 release

------------------------------------------------------------------------
r3122 | joeshaw | 2006-12-14 13:30:41 -0500 (Thu, 14 Dec 2006) | 2 lines

Fix a typo in libbeagle that was causing the python bindings to break

------------------------------------------------------------------------
r3121 | joeshaw | 2006-12-14 11:36:26 -0500 (Thu, 14 Dec 2006) | 3 lines

Only run GTK_DOC_CHECK() if libbeagle is enabled.  Print whether they're built
in the configure spew

------------------------------------------------------------------------
r3120 | kkubasik | 2006-12-14 09:34:20 -0500 (Thu, 14 Dec 2006) | 2 lines

Use an escaped Uri for Gnome.Url.Show()

------------------------------------------------------------------------
r3119 | kkubasik | 2006-12-14 03:32:44 -0500 (Thu, 14 Dec 2006) | 2 lines

Simple fix to bgo 383787 , WebHistory tiles were calling OpenFromMime as opposed to the more sensable OpenFromUri, which they now do.

------------------------------------------------------------------------
r3118 | joeshaw | 2006-12-13 16:51:53 -0500 (Wed, 13 Dec 2006) | 3 lines

Don't set Hidden=true when disabling autostart, because gnome-session skips
over the file entirely.  This is a gnome-session bug

------------------------------------------------------------------------
r3117 | joeshaw | 2006-12-13 16:17:22 -0500 (Wed, 13 Dec 2006) | 6 lines

One problem we have with runaway helper processes is that we can't
identify what file has caused the problem and how long it's been going.
This checkin fixes that, by tracking what file is being filtered, by
which filter, and for how long.  That way, users can send SIGUSR2 to
the daemon or helper process and see which file is causing the problem.

------------------------------------------------------------------------
r3116 | kkubasik | 2006-12-13 10:56:19 -0500 (Wed, 13 Dec 2006) | 2 lines

Backing out some unneeded GetFirstProperties

------------------------------------------------------------------------
r3115 | kkubasik | 2006-12-13 10:14:12 -0500 (Wed, 13 Dec 2006) | 2 lines

Fix a couple of crashers in our Image tile.

------------------------------------------------------------------------
r3114 | joeshaw | 2006-12-12 17:29:14 -0500 (Tue, 12 Dec 2006) | 3 lines

Require automake 1.8, since automake 1.7 seems to get SUBDIRS order wrong.
Thanks Max for helping track this down

------------------------------------------------------------------------
r3113 | joeshaw | 2006-12-12 17:09:31 -0500 (Tue, 12 Dec 2006) | 2 lines

Set DisplayUris for file moves and removals

------------------------------------------------------------------------
r3112 | joeshaw | 2006-12-12 16:55:16 -0500 (Tue, 12 Dec 2006) | 5 lines

Back out changes to BuildIndex.cs; they were just treating a symptom rather
than the real problem.  Fix the IsUpToDate() check in FileAttributesStore to
do the DateTime to-UTC conversion.  Fixes the reindexing issue on just
about every LuceneFileQueryable

------------------------------------------------------------------------
r3111 | joeshaw | 2006-12-12 15:13:47 -0500 (Tue, 12 Dec 2006) | 3 lines

Change the log date format slightly; I've always found it really difficult to
parse visually

------------------------------------------------------------------------
r3110 | hebra | 2006-12-12 10:16:54 -0500 (Tue, 12 Dec 2006) | 5 lines


2006-12-11  Hendrik Brandt  <heb@gnome-de.org>

        * de.po: Updated German translation.

------------------------------------------------------------------------
r3105 | dbera | 2006-12-12 08:45:20 -0500 (Tue, 12 Dec 2006) | 2 lines

Use the return value to figure out if fileattr.db operations succeeded.

------------------------------------------------------------------------
r3102 | dbera | 2006-12-11 19:04:53 -0500 (Mon, 11 Dec 2006) | 2 lines

Dont reindex already indexed files. Yet another bug uncovered by the DateTime fixes.

------------------------------------------------------------------------
r3101 | joeshaw | 2006-12-11 16:57:27 -0500 (Mon, 11 Dec 2006) | 2 lines

Require automake 1.7, not 1.6

------------------------------------------------------------------------
r3100 | joeshaw | 2006-12-11 16:07:28 -0500 (Mon, 11 Dec 2006) | 2 lines

Fix an issue with the cron scripts not being included in the tarball

------------------------------------------------------------------------
r3099 | joeshaw | 2006-12-11 13:48:33 -0500 (Mon, 11 Dec 2006) | 7 lines

Update the build system a little bit, since it was causing some users
trouble.  Use the system's gnome-autogen.sh if it's there, otherwise use
our own included one.  This way we'll get the right automake requirements,
which was causing problems for people who had only automake 1.4.  Update
to using SharpZipLib 0.84, which has been included in Mono for some time
rather than the older one.  This required some fixups to bludgeon.

------------------------------------------------------------------------
r3098 | joeshaw | 2006-12-11 12:18:42 -0500 (Mon, 11 Dec 2006) | 2 lines

only build the po directory if ENABLE_GUI is set.

------------------------------------------------------------------------
r3097 | joeshaw | 2006-12-11 12:16:19 -0500 (Mon, 11 Dec 2006) | 3 lines

Fix a problem where OPTIONS was overridden if --disable-directories was set.
Found by Pat Double

------------------------------------------------------------------------
r3096 | serrador | 2006-12-11 11:50:13 -0500 (Mon, 11 Dec 2006) | 4 lines

2006-12-11  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3095 | jfriedl | 2006-12-11 11:04:42 -0500 (Mon, 11 Dec 2006) | 4 lines

2006-12-11  Jakub Friedl  <jfriedl@suse.cz>

  * cs.po: Updated Czech Translation.

------------------------------------------------------------------------
r3094 | icq | 2006-12-10 14:06:54 -0500 (Sun, 10 Dec 2006) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r3093 | dnylande | 2006-12-10 13:19:13 -0500 (Sun, 10 Dec 2006) | 4 lines

2006-12-10  Daniel Nylander <po@danielnylander.se>

	* sv.po: Updated Swedish translation.

------------------------------------------------------------------------
r3092 | joeshaw | 2006-12-09 23:16:29 -0500 (Sat, 09 Dec 2006) | 2 lines

Add the archived file tile to POTFILES.in

------------------------------------------------------------------------
r3091 | serrador | 2006-12-09 15:27:54 -0500 (Sat, 09 Dec 2006) | 4 lines

2006-12-09  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3090 | dbera | 2006-12-09 10:32:45 -0500 (Sat, 09 Dec 2006) | 3 lines

What isnt surprising is the fact the URI comparison sucks; but that the effect was only visible while indexing without extended attributes, seemed like info was vanishing from the sqlite db and had all the flavours of a timing bug.
Now correctly (!) compare URIs to figure out parents for child indexables, fixing an occassional looping problem.

------------------------------------------------------------------------
r3089 | joeshaw | 2006-12-08 18:22:35 -0500 (Fri, 08 Dec 2006) | 16 lines

Add a count to the number of child indexables found with
beagle-extract-content.

Update the code in IndexerRequest a little; it was wrong in places, and
make it a little more judicious in its memory usage.

Fix a mem leak of URIs in LuceneFileQueryable.

Make LuceneIndexingDriver be a little smarter about getting indexables
from the IndexerRequest because of my changes to that class.

Don't store the list of accounts in the Evo mail's IMAP indexable
generator, because it's never used outside of one block of code.  Just
make it local to that function, saving a good bit of memory for every
IMAP folder.

------------------------------------------------------------------------
r3088 | serrador | 2006-12-08 14:35:09 -0500 (Fri, 08 Dec 2006) | 4 lines

2006-12-08  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3087 | jmas | 2006-12-07 07:25:50 -0500 (Thu, 07 Dec 2006) | 2 lines

Small fixes to Catalan translation

------------------------------------------------------------------------
r3086 | dbera | 2006-12-06 19:15:00 -0500 (Wed, 06 Dec 2006) | 5 lines

Pretty print date in query output.
Honour DISABLE_XATTR by an entirely faulty method (should we revert this since DISABLE_XATTR is only for debugging ?)
DateTime saga continues: datetime -> toutc -> add-seconds != datetime ->add-seconds->toutc. Why ? Because of daylight savings time. Correctly generate DateTime from unix time for DST and non-DST. The movie will return after a break.
Fix a potential crash while retrieving properties.

------------------------------------------------------------------------
r3085 | joeshaw | 2006-12-06 17:46:23 -0500 (Wed, 06 Dec 2006) | 9 lines

Add a status bar to beagle-search, and display in it the total number of
matching documents and the number that are currently displayed.

Fix some rendering issues in the details pane, especially when you resize
the pane.  Things were pretty ugly before.

Turn off snippet requests for mail messages, as they're never snippeted
now.

------------------------------------------------------------------------
r3084 | joeshaw | 2006-12-06 15:33:46 -0500 (Wed, 06 Dec 2006) | 3 lines

Add text/troff to the list of mime types supported by the man page filter, and
turn on snippet mode

------------------------------------------------------------------------
r3083 | joeshaw | 2006-12-06 15:32:48 -0500 (Wed, 06 Dec 2006) | 2 lines

Added Scribus filter from Alexander Macdonald

------------------------------------------------------------------------
r3082 | joeshaw | 2006-12-06 15:22:42 -0500 (Wed, 06 Dec 2006) | 3 lines

Change the format of the child indexable message in the logs to make it eaiser
to read inside of logs

------------------------------------------------------------------------
r3081 | joeshaw | 2006-12-06 14:53:35 -0500 (Wed, 06 Dec 2006) | 2 lines

Don't scale up RSS feed icons.  Liferea stores icons mostly as 16x16 or 32x32

------------------------------------------------------------------------
r3080 | joeshaw | 2006-12-06 13:50:24 -0500 (Wed, 06 Dec 2006) | 3 lines

Fix the GNOME autostart key.  Key names are case sensitive and
http://www.gnome.org/start/2.14/notes/en/rndevelopers.html is a damned liar.

------------------------------------------------------------------------
r3079 | joeshaw | 2006-12-06 13:35:53 -0500 (Wed, 06 Dec 2006) | 3 lines

If we aren't indexing any folders in the evo mail backend, return -1 for the
progress percentage

------------------------------------------------------------------------
r3078 | joeshaw | 2006-12-06 00:23:45 -0500 (Wed, 06 Dec 2006) | 14 lines

Fix a couple of leaks that heap-shot helped find:

* We were leaking IndexReader instances from our refcounted GetReader()
and ReleaseReader() pairs.  This was causing us pain, particularly with
live queries.

* We leaked QueryWorker instances from the QueryResult by never removing
them from our per_worker_started_time hash table.

* Not really a leak, but change the QueryWorker's uri_hash to store the
URI as the value of the hash rather than the Hit, and remove Hit-resolving
methods.  These were causing us to keep around references on Hit objects
that were never used.

------------------------------------------------------------------------
r3077 | dbera | 2006-12-05 15:32:50 -0500 (Tue, 05 Dec 2006) | 2 lines

Pretty-print.

------------------------------------------------------------------------
r3076 | jmas | 2006-12-05 13:04:29 -0500 (Tue, 05 Dec 2006) | 4 lines

2006-12-05  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.

------------------------------------------------------------------------
r3075 | dbera | 2006-12-05 11:46:04 -0500 (Tue, 05 Dec 2006) | 3 lines

Mutable properties should always be stored.
Store names of archive entries as text-content.

------------------------------------------------------------------------
r3074 | dbera | 2006-12-05 10:26:53 -0500 (Tue, 05 Dec 2006) | 2 lines

Back out hacks. They broke many other things. Will wait till .Net-2.0 to fix all of these at once instead of adding incremental hacks.

------------------------------------------------------------------------
r3073 | joeshaw | 2006-12-04 18:26:16 -0500 (Mon, 04 Dec 2006) | 2 lines

Add support for xdg-open to beagle-search

------------------------------------------------------------------------
r3072 | joeshaw | 2006-12-04 17:40:52 -0500 (Mon, 04 Dec 2006) | 4 lines

Stop using deprecated calls to create new Field instances, and for most of
our non-text fields set that we don't want norms for those fields.  This
should reduce the index size a little and use a little less memory.

------------------------------------------------------------------------
r3071 | joeshaw | 2006-12-04 14:59:52 -0500 (Mon, 04 Dec 2006) | 12 lines

Cache content inside archives, so we can get snippets.

Composite the MIME icon for an archive on top of the thumbnail in the
archived file tile.  Thanks Federico for pointing out to me what was
causing a crash.

Fix similar code in the image tile which could also crash, but it's very
unlikely to do so.

Change the details pane of the archive tile to be a little bit more
relevant for archives.

------------------------------------------------------------------------
r3070 | joeshaw | 2006-12-04 14:41:17 -0500 (Mon, 04 Dec 2006) | 15 lines

Deprecate the old --autostarted flag to beagled and beagle-search.

Now that the autostart mechanism is fairly widely deployed, ship
autostart .desktop files for beagled and beagle-search in the tarball,
and hook up the checkbox in beagle-settings to write out the autostart
files in ~/.config/autostart.

Remove old webservices code and widgets from beagle-settings, and fix
up a few accelerators.  Fix a problem in which beagle-settings wouldn't
run out of the source tree because of a missing reference to the images
assembly.

Fix the text in beagle-search's notification dialog to not mention
"Beagle", since it isn't mentioned anywhere else in the search app.

------------------------------------------------------------------------
r3069 | serrador | 2006-12-04 12:02:59 -0500 (Mon, 04 Dec 2006) | 4 lines

2006-12-04  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3068 | joeshaw | 2006-12-04 11:30:37 -0500 (Mon, 04 Dec 2006) | 2 lines

Only show the number of hits if we're in verbose mode

------------------------------------------------------------------------
r3067 | jfriedl | 2006-12-04 10:31:15 -0500 (Mon, 04 Dec 2006) | 4 lines

2006-12-04  Jakub Friedl <jfriedl@suse.cz>

  * cs.po: Updated Czech translation.

------------------------------------------------------------------------
r3066 | dbera | 2006-12-03 22:40:27 -0500 (Sun, 03 Dec 2006) | 5 lines

Bump version number of index due to the IsChild property, should have done that before.
Dont set "source" if already set - allows clients using indexing-service to set own names for their backends.
(With previous commit) Better error reporting for libbeagle clients.
IndexingService is now usable using direct API calls.

------------------------------------------------------------------------
r3065 | dbera | 2006-12-03 22:34:43 -0500 (Sun, 03 Dec 2006) | 2 lines

Soon all this datetime clumsiness will be over.

------------------------------------------------------------------------
r3064 | dbera | 2006-12-03 22:32:25 -0500 (Sun, 03 Dec 2006) | 3 lines

Add example code to use beagle as a service provider.
Set (correct) timezone info in BeagleTimestamp struct in libbeagle.

------------------------------------------------------------------------
r3063 | joeshaw | 2006-12-03 21:39:54 -0500 (Sun, 03 Dec 2006) | 2 lines

Change the GC.GetTotalMemory() threshold to 10%; otherwise there are just too many snapshots

------------------------------------------------------------------------
r3062 | joeshaw | 2006-12-03 16:07:47 -0500 (Sun, 03 Dec 2006) | 2 lines

Remove debug spew

------------------------------------------------------------------------
r3061 | joeshaw | 2006-12-03 16:07:14 -0500 (Sun, 03 Dec 2006) | 2 lines

Oops, fix a scale problem with the RSS size calculation

------------------------------------------------------------------------
r3060 | joeshaw | 2006-12-03 15:59:59 -0500 (Sun, 03 Dec 2006) | 17 lines

Index at most 30 files inside archives.  This is to avoid huge allocations
on very large archives, like the one I have of a backed up home direcotry.

Fix a major issue where we were boxing characters every time we processed
a URI.

Use DateTime.UtcNow when calculating load averages, to avoid unnecessary
allocations related to timezones.

If --heap-buddy or --heap-shot are provided, assume --debug-memory.  If
running with --heap-shot and the RSS increases by more than 5% or 5 megs,
or the size of GC.GetTotalMemory() increases by more than 5%,
automatically send SIGPROF to generate a memory snapshot.

Log the number of child indexables created, and whether we're running
with BEAGLE_EXERCISE_THE_DOG.

------------------------------------------------------------------------
r3059 | aihana | 2006-12-03 01:57:07 -0500 (Sun, 03 Dec 2006) | 4 lines

2006-12-03  Takeshi AIHANA <takeshi.aihana@gmail.com>

	* ja.po: Updated Japanese translation for v0.2.13.

------------------------------------------------------------------------
r3058 | dbera | 2006-12-02 01:47:45 -0500 (Sat, 02 Dec 2006) | 2 lines

Some more fixes wrt child-indexables. Namely, fix proper handling of child indexables in indexing     hooks. For property changes, propagate the changes to all its children - this is necessary because    some parent properties might be duplicated in child. Also some cleanup to keep the code managable.    Thanks to Joe for pointing out the crashes. Testing, more stress testing requested. Also, test the mail backends - they might be affected because of all the child indexable changes.

------------------------------------------------------------------------
r3057 | joeshaw | 2006-12-01 18:08:36 -0500 (Fri, 01 Dec 2006) | 12 lines

Add a new archived file tile to beagle-search.  Still needs a little love.

Fix an issue where ParentUris of files were the internal URIs, not the
real URIs.

Fix a crash when the OpenWith menu has no items.

Mark items as being inside an archive in the archive filter.

Change the "your data is being indexed" text in the notification area to
not mention "Beagle", since it's not used anywhere else in the UI.

------------------------------------------------------------------------
r3056 | dbera | 2006-12-01 17:08:51 -0500 (Fri, 01 Dec 2006) | 2 lines

Fix a potential crash in html parsing code. How come it was never reported ?

------------------------------------------------------------------------
r3055 | joeshaw | 2006-12-01 16:43:35 -0500 (Fri, 01 Dec 2006) | 10 lines

Add the informational request message and indexing status response messages
to libbeagle and the python bindings.  Also add sample usage to the
examples/beagle-search.c file.

Fix a logic bug in the libbeagle message parser that was causing problems
if you sent different types of complex messages.  Remove some dead code.

Add printing of the response in libbeagle apps if ENABLE_XML_DUMP is
defined.

------------------------------------------------------------------------
r3054 | joeshaw | 2006-12-01 14:09:13 -0500 (Fri, 01 Dec 2006) | 2 lines

Add DisplayUri support to the mail filter

------------------------------------------------------------------------
r3053 | joeshaw | 2006-12-01 14:06:48 -0500 (Fri, 01 Dec 2006) | 5 lines

Make the DisplayUri a real thing rather than just selecting the ContentUri if
the URI scheme is a UID (used in the file backend).  This makes archives
look pretty when they're being indexed.  Also dial down the debug spew a
little bit

------------------------------------------------------------------------
r3052 | joeshaw | 2006-12-01 13:39:30 -0500 (Fri, 01 Dec 2006) | 3 lines

After we store child indexable streams in the helper, close them out since we
don't need to keep them open any longer

------------------------------------------------------------------------
r3051 | joeshaw | 2006-12-01 13:38:55 -0500 (Fri, 01 Dec 2006) | 2 lines

Clean the archive filter up a lot, add support for non-tarred gzip and bzip files

------------------------------------------------------------------------
r3050 | dbera | 2006-12-01 12:51:37 -0500 (Fri, 01 Dec 2006) | 2 lines

Cleanup child indexables in beagle-extract-content. Print timestamp with timezone info.

------------------------------------------------------------------------
r3049 | kmaraas | 2006-12-01 06:07:31 -0500 (Fri, 01 Dec 2006) | 4 lines

2006-12-01  Kjartan Maraas  <kmaraas@gnome.org>

	* nb.po: Updated Norwegian bokmÃ¥l translation.

------------------------------------------------------------------------
r3048 | dbera | 2006-11-30 12:10:50 -0500 (Thu, 30 Nov 2006) | 2 lines

Fix crash (#380544) and code cleanup in SVG Filter (patch from Alexander Macdonald).

------------------------------------------------------------------------
r3047 | joeshaw | 2006-11-29 16:58:57 -0500 (Wed, 29 Nov 2006) | 2 lines

Also: no reason for the archive filter to implement IDisposable

------------------------------------------------------------------------
r3046 | joeshaw | 2006-11-29 16:58:11 -0500 (Wed, 29 Nov 2006) | 2 lines

Get rid of the archive filter's 'ArchiveHandler' class.  It has no point.

------------------------------------------------------------------------
r3045 | joeshaw | 2006-11-29 16:57:20 -0500 (Wed, 29 Nov 2006) | 2 lines

Only show the timestamp in beagle-extract-content if it's valid

------------------------------------------------------------------------
r3044 | joeshaw | 2006-11-29 15:05:37 -0500 (Wed, 29 Nov 2006) | 3 lines

Work around a problem in Mono 1.2.1 by having IsPathOnBlockDevice() return
true if stat() fails for some reason.

------------------------------------------------------------------------
r3043 | joeshaw | 2006-11-29 14:25:43 -0500 (Wed, 29 Nov 2006) | 2 lines

Fix some unncessary boxing in Lucene

------------------------------------------------------------------------
r3042 | llipka | 2006-11-29 12:28:32 -0500 (Wed, 29 Nov 2006) | 2 lines

Fix some graphical glitches with the NotificationArea like displaying it before adding a message.

------------------------------------------------------------------------
r3041 | kelemeng | 2006-11-28 21:41:36 -0500 (Tue, 28 Nov 2006) | 4 lines

2006-11-29  Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated.

------------------------------------------------------------------------
r3040 | joeshaw | 2006-11-28 17:03:57 -0500 (Tue, 28 Nov 2006) | 2 lines

Fix typo

------------------------------------------------------------------------
r3039 | joeshaw | 2006-11-28 16:55:26 -0500 (Tue, 28 Nov 2006) | 2 lines

Add a file I forgot from the last commit

------------------------------------------------------------------------
r3038 | dbera | 2006-11-28 16:40:13 -0500 (Tue, 28 Nov 2006) | 3 lines

Use current encoding while decoding URLs. A lot of those nasty html filter exceptions (System.FormatException: Input string was not in the correct format) should be gone now.
If they still show up, make sure you have a recent mono (mono bug #77931).

------------------------------------------------------------------------
r3037 | joeshaw | 2006-11-28 16:36:08 -0500 (Tue, 28 Nov 2006) | 32 lines

Add infrastructure to signal clients whether or not we're doing the initial
index:

* Add a new request message, InformationalMessagesRequest, which is an
asynchronous message type for getting out-of-band, general messages from
the daemon.

* Add a new response message, IndexingStatusResponse, which indicates
whether or not the daemon is doing the initial index.

* Remove the use of QueryableState throughout the code; it never worked
well and so it's been deprecated.

* Make it the responsibility of the backend to report its crawl status,
rather than trying to guess it using QueryableState.  This makes things
a lot more reliable as backends can track this better than the
infrastructure.  Add support to determine this to the files, evolution
mail, evolution data server, and gaim log backends.

* Make progress percentages pulled on-demand from the backend rather than
stored as part of the LuceneQueryable.  This feels like a cleaner design.

* Hook the beagle-search UI up to the new messages, so that it can
detect changes and present the UI to the user.

And also:

* Clean up some usages of the Log class in the various backends, since I
had to touch most of them up anyway, and in the Inotify code.

* Improve some logging in the code, particularly in the FSQ backend.

------------------------------------------------------------------------
r3036 | kkubasik | 2006-11-27 21:09:14 -0500 (Mon, 27 Nov 2006) | 2 lines

Spelling error

------------------------------------------------------------------------
r3035 | joeshaw | 2006-11-27 20:03:32 -0500 (Mon, 27 Nov 2006) | 2 lines

Make the notification area  little bit nicer

------------------------------------------------------------------------
r3034 | djihed | 2006-11-27 12:05:39 -0500 (Mon, 27 Nov 2006) | 2 lines

Updated Arabic Translation.  Translated by Khaled Hosny

------------------------------------------------------------------------
r3033 | dbera | 2006-11-25 19:23:30 -0500 (Sat, 25 Nov 2006) | 2 lines

Minor update to xdgmime to sync with upstream.

------------------------------------------------------------------------
r3032 | dbera | 2006-11-25 18:52:47 -0500 (Sat, 25 Nov 2006) | 2 lines

Fix a logic error. Pass longer numbers like my India phone number.

------------------------------------------------------------------------
r3031 | dbera | 2006-11-24 21:45:48 -0500 (Fri, 24 Nov 2006) | 2 lines

Tokenize 001234 as 1234. Include a testing function in NoiseFilter to figure out what/how words are tokenized.

------------------------------------------------------------------------
r3030 | dbera | 2006-11-24 19:01:41 -0500 (Fri, 24 Nov 2006) | 2 lines

dead code

------------------------------------------------------------------------
r3028 | dbera | 2006-11-24 16:33:15 -0500 (Fri, 24 Nov 2006) | 3 lines

Handle child indexables for files backend. Phew, At last! Add capability of HitFilter to properly filter child documents and remap their URI correctly. Add relevant patches from dsd's patches in bugzilla.
Oh, forgot to attribute earlier - the archive filter I checked in was written by Varadhan.

------------------------------------------------------------------------
r3027 | dbera | 2006-11-24 16:30:28 -0500 (Fri, 24 Nov 2006) | 2 lines

Indexable is not marked _done_ until all the child indexables (including child of child and so on) are indexed. Which means I can crash your beagled by sending you an email attaching a zipped bad doc file ;-). This is the initial implementation - it will become better over the next few releases.

------------------------------------------------------------------------
r3026 | dbera | 2006-11-24 16:22:31 -0500 (Fri, 24 Nov 2006) | 2 lines

Store in the index whether an indexable is a child indexable. Store both Uri and ParentUri in both indexes for easy removal.

------------------------------------------------------------------------
r3025 | dbera | 2006-11-24 16:14:56 -0500 (Fri, 24 Nov 2006) | 2 lines

Improved support for child indexables wrt ParentUri (parenturi always points to the toplevel parent) and parent properties (copy properties from all parents, grand*parents as parent:foo). Changes from dsd's patches in bugzilla merged.

------------------------------------------------------------------------
r3024 | dbera | 2006-11-24 16:03:05 -0500 (Fri, 24 Nov 2006) | 3 lines

Some useful URI functions.
Move method to add standard file properties and common property names to Util so that archive filter (and other files-in-file filters) can use them.

------------------------------------------------------------------------
r3023 | dbera | 2006-11-24 15:48:56 -0500 (Fri, 24 Nov 2006) | 2 lines

Add FilterArchive from bugzilla with some minor modifications. Archive filter needs some work; more interesting properties of the archive file itself needs to be stored (names of archive contents ?) and nested archives are not working.

------------------------------------------------------------------------
r3022 | dbera | 2006-11-24 15:31:56 -0500 (Fri, 24 Nov 2006) | 2 lines

Some more DateTime hack - except this one fixes a fatal bug that got uncovered recently. The bug caused already indexed document to be re-indexed upon beagled restart. This was due to (1970,1,1) not being parsed as epoch but epoch-timezoneoffset. Move to gmcs is long overdue, need to flush out local changes before that.

------------------------------------------------------------------------
r3020 | llipka | 2006-11-21 14:55:02 -0500 (Tue, 21 Nov 2006) | 2 lines

Very lame notification about the fact that we are still in the process of indexing data.

------------------------------------------------------------------------
r3019 | llipka | 2006-11-21 14:17:45 -0500 (Tue, 21 Nov 2006) | 2 lines

Base implementation for a notification system in beagle-search. Now the goodies will follow.

------------------------------------------------------------------------
r3018 | kkubasik | 2006-11-21 03:25:48 -0500 (Tue, 21 Nov 2006) | 2 lines

I can't say I know how or why it wasn't there, but it wasn't.....

------------------------------------------------------------------------
r3017 | dbera | 2006-11-20 21:12:58 -0500 (Mon, 20 Nov 2006) | 2 lines

./configure wasnt happy if gsf is present but no wv. Its happy now. pkg-check-modules requires action-not-found for this. One more autoconf thing I didnt know. Huh!

------------------------------------------------------------------------
r3016 | joeshaw | 2006-11-20 17:43:51 -0500 (Mon, 20 Nov 2006) | 3 lines

Only check for wv1 if we have gsf-sharp, because we need both for MS Word
filtering

------------------------------------------------------------------------
r3014 | joeshaw | 2006-11-20 15:29:27 -0500 (Mon, 20 Nov 2006) | 2 lines

Update for 0.2.13 release

------------------------------------------------------------------------

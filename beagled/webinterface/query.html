<html>
<!--
//
// Copyright (2007) Debajyoti Bera
// Copyright (2007) Nirbheek Chauhan
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the "Software"),
// to deal in the Software without restriction, including without limitation
// the rights to use, copy, modify, merge, publish, distribute, sublicense,
// and/or sell copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
// DEALINGS IN THE SOFTWARE.
//
-->
<head>
<title>Beagle Search Web Interface</title>
<link rel=StyleSheet href="default.css" type="text/css">

<script language="JavaScript1.2" src="default.js"></script>
<script language="JavaScript1.2">
/******* Initial fetching and loading of the xsl file *********/
var xmlhttp=false;
try { 
		xmlhttp = new ActiveXObject("Msxml2.XMLHTTP"); 
} catch (e) {
 		try { 
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); 
		} catch (E) { 
				xmlhttp = false; 
		} 
} 
if (!xmlhttp && typeof XMLHttpRequest!='undefined') { 
		xmlhttp = new XMLHttpRequest(); 
}

// first get the XSLT file
var xsltProcessor = new XSLTProcessor();

// Load the xsl file using synchronous (third param is set to false) XMLHttpRequest
xmlhttp.open("GET", "/queryresult.xsl", false);
xmlhttp.send(null);

// Process the xsl file once and store it for later reuse
var xslRef = xmlhttp.responseXML;
xsltProcessor.importStylesheet(xslRef);

function test()
{
	//document.getElementById('xml').innerHTML = ("<i>hello world</i> " + "foo");
	document.getElementById('topbar-right').style.display='block';
}
</script>
</head>
<body onload="document.queryform.querytext.focus();">
	<div id="header">
		<a href="."><img src="beagle-logo.png"/></a>
		<form name="queryform" onsubmit='search(); return false;' action="POST">
			<input name="querytext" type="text" size="50" />
			<input type="submit" value="Search"/>
		</form>
		<span id="headerlinks">
			<a href="" onclick='get_information(); return false;'>Current Status</a>&nbsp;|&nbsp;
			<a href="" onclick='alert("Not implemented"); return false;'>Beagle settings</a>
		</span>
	</div>
	<div id="status">
		<img src="ajax-loader.gif"/>
	</div>

	<div id="topbar">
		<span id="topbar-left">
			<form name="categories" autocomplete="off">
			<a href="#" onclick='show_all(this); return false;' name="All"/>Show All</a> | 
			<input type="checkbox" name="Documents" onClick='toggle_category(this);'/>Documents
			<input type="checkbox" name="Images" onClick='toggle_category(this);'/>Images
			<input type="checkbox" name="Media" onClick='toggle_category(this);'/>Media
			<input type="checkbox" name="Mail" onClick='toggle_category(this);'/>Mail
			<input type="checkbox" name="Websites" onClick='toggle_category(this);'/>Websites
			<input type="checkbox" name="IMLogs" onClick='toggle_category(this);'/>IM Logs
			<input type="checkbox" name="Others" onClick='toggle_category(this);'/>Others
			</form>
		</span>
		<span id="topbar-right">Retrieved <span id="numhits">XXX</span> results in <span id="timetaken">0.4 secs</span></span>
	</div>
	<!-- For a future login box for remote usage -->
	<div id="login"></div>
	<div id="xml"></div>
	<div id="results"></div>
	<div id="footer">
		Web interface for <a href="http://beagle-project.org">Beagle</a> desktop search service <br/>
		<p class='license'>Copyright &#xA9; 2007 Debajyoti Bera, Nirbheek Chauhan, Licensed under <a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a></p>
	</div>
</body>
</html>

<html>
<!--
//
// Copyright (2007) Debajyoti Bera
// Copyright (2007) Nirbheek Chauhan
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the "Software"),
// to deal in the Software without restriction, including without limitation
// the rights to use, copy, modify, merge, publish, distribute, sublicense,
// and/or sell copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
// DEALINGS IN THE SOFTWARE.
//
-->
<head>
<title>Beagle Search Web Interface</title>
<link rel=StyleSheet href="default.css" type="text/css">

<script language="JavaScript1.2" src="default.js"></script>
<script language="JavaScript1.2">
/******* Initial fetching and loading of the xsl file *********/
var xmlhttp=false;
try { 
	xmlhttp = new ActiveXObject("Msxml2.XMLHTTP"); 
} catch (e) {
 	try { 
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP"); 
	} catch (E) { 
		xmlhttp = false; 
	} 
} 
if (!xmlhttp && typeof XMLHttpRequest!='undefined') { 
	xmlhttp = new XMLHttpRequest(); 
}

// first get the XSLT file
var xsltProcessor = new XSLTProcessor();

// Load the xsl file using synchronous (third param is set to false) XMLHttpRequest
xmlhttp.open("GET", "/queryresult.xsl", false);
xmlhttp.send(null);

// Process the xsl file once and store it for later reuse
var xslRef = xmlhttp.responseXML;
xsltProcessor.importStylesheet(xslRef);

function test()
{
    //document.getElementById('xml').innerHTML = ("<i>hello world</i> " + "foo");
    document.getElementById('topbar-right').style.display='block';
}
</script>
</head>
<body onload="document.queryform.querytext.focus();">
    <div id="header">
	<img src="beagle-logo.png"/>
	<form name="queryform" onsubmit='search(); return false;' action="POST">
    	    <input name="querytext" type="text" size="50" /><input type="submit" value="Search"/>
    	</form>
	<span id="headerlinks">
		<a href="" onclick='get_information(); return false;'>Current Status</a>&nbsp;|&nbsp;
		<a href="" onclick='alert("Not implemented"); return false;'>Beagle settings</a>
	</span>
    </div>
    <div id="status"><img src="ajax-loader.gif"/></div>

    <div id="topbar">
	<span id="topbar-left">
	    <a href="" onclick='show_all(); return false;'>All</a>
	    <a href="" onclick='show_file_type("document"); return false;'>Documents</a>
	    <a href="" onclick='show_file_type("image"); return false;'>Images</a>
	    <a href="" onclick='show_file_type("audio"); return false;'>Music</a>
	    <a href="" onclick='show_file_type("video"); return false;'>Video</a>
	    <a href="" onclick='show_file_type("source"); return false;'>C#/Java ...</a>
	    <a href="" onclick='show_file_type("application"); return false;'>Applications</a>
	    <a href="" onclick='show_file_type("archive"); return false;'>Archives</a>
	    <a href="" onclick='show_file_type("mail"); return false;'>Emails</a>
	    <a href="" onclick='show_hit_type("WebHistory", "FeedItem"); return false;'>Links</a>
	</span>
	<span id="topbar-right">Retrieved <span id="numhits">XXX</span> results in <span id="timetaken">0.4 secs</span></span>
    </div>

    <div id="xml"></div>
    <div id="results"></div>
    <div id="footer">Web interface for <a href="http://beagle-project.org">Beagle</a> desktop search service <b>|</b> Copyright (C) 2007 Debajyoti Bera, Nirbheek Chauhan <b>|</b> Licensed under <a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a></div>
</body>
</html>
